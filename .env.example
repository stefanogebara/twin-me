# Environment Configuration Template
# Copy this file to .env and fill in your actual values

# Supabase Configuration
VITE_SUPABASE_URL=your_supabase_url_here
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key_here
# Server-side only Supabase key (DO NOT expose to frontend)
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# Clerk Authentication
VITE_CLERK_PUBLISHABLE_KEY=your_clerk_publishable_key_here
CLERK_SECRET_KEY=your_clerk_secret_key_here

# AI API Keys (Server-side only - NOT exposed to frontend)
# CRITICAL: These keys should NEVER be exposed to the frontend
ANTHROPIC_API_KEY=your_anthropic_api_key_here
OPENAI_API_KEY=your_openai_api_key_here
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here

# Server Configuration
PORT=3001
NODE_ENV=development

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Error Tracking & Monitoring (Optional)
# Sentry DSN for error tracking and performance monitoring
# Get your DSN from https://sentry.io
# Leave empty to disable error tracking
SENTRY_DSN=your_sentry_dsn_here
VITE_SENTRY_DSN=your_sentry_dsn_here

# Security - JWT Authentication
# CRITICAL: Generate a cryptographically secure secret for production
# Run: node api/utils/generateSecret.js
# Minimum 32 characters, use different secrets for dev/staging/prod
# NEVER commit real secrets to version control
JWT_SECRET=generate-using-node-api-utils-generateSecret-js

# App Configuration
VITE_APP_URL=http://localhost:8083
VITE_API_URL=http://localhost:3001/api
VITE_ENVIRONMENT=development

# Redis Configuration (Optional - for performance optimization)
# If not provided, the app will use database fallback (slower but functional)
# For production: Use Upstash Redis or Redis Cloud
# For local dev: Use local Redis (redis://localhost:6379) or leave empty
REDIS_URL=redis://localhost:6379
# Alternative for Upstash Redis:
# UPSTASH_REDIS_URL=your_upstash_redis_url_here

# Pipedream Connect Configuration (OAuth Integration Platform)
# Used to connect user accounts to 3000+ platforms via pre-approved OAuth apps
# Solves Spotify 403 quota issue by using Pipedream's OAuth infrastructure
# Setup guide: See PIPEDREAM_SETUP.md

# Backend API credentials (Server-side only - NOT exposed to frontend)
PIPEDREAM_CLIENT_ID=your_pipedream_client_id_here
PIPEDREAM_CLIENT_SECRET=your_pipedream_client_secret_here
PIPEDREAM_PROJECT_ID=your_pipedream_project_id_here
PIPEDREAM_ENV=development

# IMPORTANT: Frontend does NOT use a publishable key
# Instead, the frontend SDK uses a tokenCallback that fetches short-lived Connect tokens
# from your backend endpoint: /api/pipedream/connect-token
# See: https://pipedream.com/docs/connect/api-reference/sdks#browser-usage

# Optional: Workflow trigger tokens (if using Pipedream workflows for data extraction)
# PIPEDREAM_WORKFLOW_TOKEN=your_workflow_token_here
# Platform-specific workflow URLs (example)
# PIPEDREAM_WORKFLOW_SPOTIFY=https://your-workflow-url.pipedream.net
# PIPEDREAM_WORKFLOW_DISCORD=https://your-workflow-url.pipedream.net

# ==============================================
# PLATFORM OAUTH CREDENTIALS
# ==============================================

# ---- MVP PLATFORMS (Priority) ----

# Spotify OAuth - Music soul signature extraction
# Setup: https://developer.spotify.com/dashboard
# Required scopes: user-read-recently-played, user-top-read, user-read-playback-state
SPOTIFY_CLIENT_ID=your_spotify_client_id_here
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret_here

# Google OAuth - Calendar, YouTube, Gmail integration
# Setup: https://console.cloud.google.com/apis/credentials
# Enable APIs: Google Calendar API, YouTube Data API v3
# Required scopes: calendar.readonly, youtube.readonly
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# Whoop OAuth - Recovery, strain, sleep data
# Setup: https://developer.whoop.com
# Required scopes: read:cycles, read:recovery, read:sleep, read:workout
WHOOP_CLIENT_ID=your_whoop_client_id_here
WHOOP_CLIENT_SECRET=your_whoop_client_secret_here

# ---- ADDITIONAL PLATFORMS ----

# Discord OAuth (for community soul signature extraction)
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_CLIENT_SECRET=your_discord_client_secret_here

# GitHub OAuth (for code & collaboration soul signature)
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here

# ==============================================
# TOKEN ENCRYPTION
# ==============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# CRITICAL: Required for secure OAuth token storage
ENCRYPTION_KEY=generate_32_byte_hex_key_see_command_above